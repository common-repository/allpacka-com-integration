<?php
/*
  Plugin Name: Pactic.ro integration
  Plugin URI: https://pactic.ro/
  Description: Pactic.ro integration
  Version: 2.0
  Author: Allpacka.com
  Author URI: https://pactic.ro/
  Text Domain: allpacka
  Domain Path: /languages
*/
 

/**********************************************************************************************************************************************************************/
/**********************************************************************************************************************************************************************/
/**********************************************************************************************************************************************************************/
/**********************************************************************************************************************************************************************/
/**********************************************************************************************************************************************************************/
/**********************************************************************************************************************************************************************/
/*********************************************************************************************************************************************************************/
/**********************************************************************************************************************************************************************/

define( 'ALLPACKA_PLUGIN_DIR_URL', plugin_dir_url( __FILE__ ) );
define( 'ALLPACKA_PLUGIN_DIR_PATH', plugin_dir_path( __FILE__ ) );

/**********************************************************************************************************************************************************************/
/**********************************************************************************************************************************************************************/
/**********************************************************************************************************************************************************************/

require_once( 'includes/allpacka.php' );

/**********************************************************************************************************************************************************************/
/*********************************************************************************************************************************************************************/
/**********************************************************************************************************************************************************************/

add_action( 'plugins_loaded', 'allpacka_forditas', 0 );

function allpacka_forditas() {
    
    $locale = apply_filters( 'plugin_locale', get_locale(), 'allpacka' );

	load_textdomain( 'allpacka', WP_LANG_DIR . '/plugins/allpacka-' . $locale . '.mo' );
	load_plugin_textdomain( 'allpacka', false, plugin_basename( dirname( __FILE__ ) ) . '/languages' );
    
}

/**********************************************************************************************************************************************************************/
/**********************************************************************************************************************************************************************/

add_action( 'admin_enqueue_scripts', 'allpacka_admin_css_js' );

function allpacka_admin_css_js() {
    
    wp_enqueue_script( 'allpacka_admin_js', ALLPACKA_PLUGIN_DIR_URL.'js/admin.js', array('jquery'), filemtime( ALLPACKA_PLUGIN_DIR_PATH.'js/admin.js' ), false );
    
    wp_enqueue_style( 'Dosis-google-fonts', 'https://fonts.googleapis.com/css?family=Dosis:400,700,800&amp;subset=latin-ext', false ); 
    
    $allpacka_admin_adatok = array( 
        'ajax_url' => admin_url( 'admin-ajax.php' ),
        'plugin_dir_url' => ALLPACKA_PLUGIN_DIR_URL,
        'nincs_kivalasztott_csomagpont' => __( 'not selected yet', 'allpacka' ),
    );
    
    wp_localize_script( 'allpacka_admin_js', 'allpacka_admin_adatok', $allpacka_admin_adatok );
    
    wp_enqueue_style( 'allpacka_admin_css', ALLPACKA_PLUGIN_DIR_URL.'css/admin.css', '', filemtime( ALLPACKA_PLUGIN_DIR_PATH.'css/admin.css' ), 'all' );
    
}

/**********************************************************************************************************************************************************************/
/**********************************************************************************************************************************************************************/

add_action( 'wp_enqueue_scripts', 'allpacka_frontend_css_js' );

function allpacka_frontend_css_js() {
    
    wp_enqueue_script( 'allpacka_frontend_js', ALLPACKA_PLUGIN_DIR_URL.'js/frontend.js', array('jquery'), filemtime( ALLPACKA_PLUGIN_DIR_PATH.'js/frontend.js' ), false );
    
    $allpacka_frontend_adatok = array( 
        'ajax_url' => admin_url( 'admin-ajax.php' ),
        'plugin_dir_url' => ALLPACKA_PLUGIN_DIR_URL,
    );
    
    wp_localize_script( 'allpacka_frontend_js', 'allpacka_frontend_adatok', $allpacka_frontend_adatok );
    
    wp_enqueue_style( 'allpacka_frontend_css', ALLPACKA_PLUGIN_DIR_URL.'css/frontend.css', '', filemtime( ALLPACKA_PLUGIN_DIR_PATH.'css/frontend.css' ), 'all' );


}

/**********************************************************************************************************************************************************************/
/**********************************************************************************************************************************************************************/

?>